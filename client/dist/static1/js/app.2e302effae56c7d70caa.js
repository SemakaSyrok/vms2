webpackJsonp([1],{0:function(t,e){},"3YZq":function(t,e){},"4GfE":function(t,e){},"7Otq":function(t,e,s){t.exports=s.p+"static/img/logo.e204c4a.png"},ADiR:function(t,e){},CzIS:function(t,e){},GMqv:function(t,e){},GiyR:function(t,e){},I9jn:function(t,e){},JJfA:function(t,e){},KuaY:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAARVBMVEVHcEzzRjT0QzbxQDn0Qzb3QDj0QzbzRDj0QzbxRTf0Qzb0QzbzQzfyQTTyRjP0Qzb1Qjb0QzbzQzb0RDb0QjbzQzb0QzZP0GjVAAAAFnRSTlMALOYk5CDfKecl6eMqJyjo5+vr6urk/zGCyQAAALpJREFUSMft1dsSgiAUhWEKK3fRuXj/Ry3CIdTFZnHnhVzi/42O7kFj1rW05QTvW4f3L9v+gPalO25w7z0S0nmPROiRCD0Uu71HIvbw1lAoPRRqD0Sln4lqPxFEPxJUnwmyT+J5Jfsk6D4XXP8V79g/yN7ILYI7CYb3Qz/Sv+fE0L96UqTvZU+UyL4vJUbzQIjJ/FTFbN6sPoBgPtWRhRcVUbhUFufWg+wnWo7KINoO4/JxL279FS5ufQBHZxvwqhwJQwAAAABJRU5ErkJggg=="},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top ",class:t.is_noone(),attrs:{id:"navbar"}},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[a("img",{class:{request:t.request},attrs:{src:s("7Otq"),width:"38",height:"34",alt:""}})]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:t.activeLink("/"),attrs:{to:"/"}},[t._v("Главная")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:t.activeLink("/news"),attrs:{to:"/news"}},[t._v("Новинки")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:t.activeLink("/bonuses"),attrs:{to:"/bonuses"}},[t._v("Бонусы")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:t.activeLink("/cameras"),attrs:{to:"/cameras"}},[t._v("Камеры")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:t.activeLink("/users"),attrs:{to:"/users"}},[t._v("Пользователи")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:t.activeLink("/chat"),attrs:{to:"/chats"}},[t._v("Чаты")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:t.activeLink("/works"),attrs:{to:"/works"}},[t._v("Работы")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:t.activeLink("/coasts"),attrs:{to:"/coasts"}},[t._v("Расценки")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:t.activeLink("/questions"),attrs:{to:"/questions"}},[t._v("Вопрос/Ответ")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:t.activeLink("/benefit"),attrs:{to:"/benefit"}},[t._v("Полезное")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("button",{staticClass:"btn btn-primary nav-link ml-lg-4 p-2",on:{click:function(e){return t.logout()}}},[t._v("Выйти")])])])]),t._v(" "),this.$store.getters.REQUEST?a("div",{staticClass:"loading-bar"},[a("div",{staticClass:"loading-elem"})]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}]};var n=s("VU/8")({name:"Header",computed:{request:function(){return this.$store.getters.REQUEST}},methods:{activeLink:function(t){return t===this.$route.path?"active":""},is_noone:function(){return"/login"===this.$route.path?"none":""},logout:function(){this.$store.dispatch("logout")}}},r,!1,function(t){s("alpY")},"data-v-75a35c9a",null).exports,o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("footer",{staticClass:"bg-dark mt-2",class:this.is_noone()},[e("h3",{staticClass:"text-center text-light  p-3",staticStyle:{"margin-bottom":"0px"}},[this._v("ДомЛес")])])])},staticRenderFns:[]};var i=s("VU/8")({name:"Footer",methods:{is_noone:function(){return"/login"===this.$route.path?"none":""}}},o,!1,function(t){s("GiyR")},"data-v-06770976",null).exports,c=s("DmT9"),u=s.n(c),l={name:"App",components:{Header:n,Footer:i},data:function(){return{io:null}},beforeCreate:function(){var t=localStorage.getItem("token")||null,e=localStorage.getItem("login")||null,s=localStorage.getItem("id")||null;t&&e&&s&&this.$store.dispatch("loginUserByStorage",{login:e,id:s,token:t}),this.$store.getters.SELF.logged||router.push("/login")},mounted:function(){this.$store.dispatch("connect")},methods:{},updated:function(){}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"pt-5",attrs:{id:"wrapper"}},[e("br"),this._v(" "),e("Header"),this._v(" "),e("router-view")],1),this._v(" "),e("Footer")],1)},staticRenderFns:[]};var m=s("VU/8")(l,d,!1,function(t){s("R1Zr")},null,null).exports,p=s("/ocq"),v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wprapper"}},[s("div",{staticClass:"full-page d-flex justify-content-center align-items-center flex-column"},[s("form",{staticClass:"col-sm-9 col-md-8 col-lg-7 col-xl-6"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"h3",attrs:{for:"exampleInputEmail1 "}},[t._v("Логин")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1",placeholder:"example@mail.ru"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"h3",attrs:{for:"exampleInputPassword1 "}},[t._v("Пароль")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"exampleInputPassword1",placeholder:"123456"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),s("button",{staticClass:"btn btn-primary ",attrs:{type:"submit"},on:{click:function(e){return t.submit()}}},[s("p",{staticClass:"h5"},[this.$store.getters.REQUEST?s("span",[t._v("Отправка")]):s("span",[t._v("Вход")])])])])])},staticRenderFns:[]};var f=s("VU/8")({name:"Login",data:function(){return{login:"",password:""}},beforeCreate:function(){},methods:{submit:function(){this.$store.dispatch("login",{login:this.login,password:this.password})}}},v,!1,function(t){s("weyE")},"data-v-75bb041c",null).exports,g=s("Xxa5"),_=s.n(g),h=s("exGp"),C=s.n(h),w=s("7t+N"),b=s.n(w),k=(s("Bb4J"),s("Zrlr")),x=s.n(k),$=s("wxAW"),y=s.n($),q=function(){function t(){x()(this,t)}return y()(t,null,[{key:"validateNewUser",value:function(t){var e=null;return t.login.length<=6&&(e="Логин слишком маленький"),t.login.length>=32&&(e="Логин слишком большой"),t.password.length<=6&&(e="Пароль слишком маленький"),t.password.length>=32&&(e="Пароль слишком большой"),/^[a-zA-Z][a-zA-Z0-9]+$/gi.test(t.login)||(e="Недопустимые символы в логине"),/^[a-zA-Z0-9]+$/gi.test(t.password)||(e="Недопустимые символы в пароле"),e}},{key:"validateUser",value:function(t){var e=null;return t.login.length<=6&&(e="Логин слишком маленький"),t.login.length>=32&&(e="Логин слишком большой"),t.password.length<=6&&(e="Пароль слишком маленький"),t.password.length>=32&&(e="Пароль слишком большой"),/^[a-zA-Z][a-zA-Z0-9]+$/gi.test(t.login)||(e="Недопустимые символы в логине"),/^[a-zA-Z0-9]+$/gi.test(t.password)||(e="Недопустимые символы в пароле"),e}},{key:"validateCamera",value:function(t){var e=null;return t.connection_string.length<=4&&(e="Строка подключения слишком мала"),t.name.length<=4&&(e="Имя слишком маленькое"),e}}]),t}(),A={name:"Cameras",data:function(){return{newCamera:{connection_string:"",name:"",owner_id:null,error:""},updatedCamera:{id:null,connection_string:"",name:"",owner_id:null,error:""}}},beforeCreate:function(){!1===this.$store.getters.SELF.logged&&this.$router.push("/login"),this.$store.dispatch("usersRequest"),this.$store.dispatch("camerasRequest")},computed:{cameras:function(){return this.$store.getters.CAMERAS}},methods:{camera:function(t){return this.$store.getters.CAMERAS.find(function(e){return e.id===t})},openCamera:function(){b()("#cameraModal").modal("toggle"),this.newCamera.error=""},openUpdateCamera:function(t){b()("#updateCamera").modal("toggle");var e=this.camera(t);this.updatedCamera.connection_string=e.connection_string,this.updatedCamera.name=e.name,this.updatedCamera.id=e.id,this.updatedCamera.owner_id=e.owner_id,this.updatedCamera.error=""},saveCamera:function(){var t=this;return C()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.newCamera.error="",!t.newCamera.error){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.$store.dispatch("createCamera",{name:t.newCamera.name,connection_string:t.newCamera.connection_string,owner_id:t.newCamera.owner_id});case 7:return e.sent,e.next=10,t.$store.dispatch("camerasRequest");case 10:case"end":return e.stop()}},e,t)}))()},updateCamera:function(t){var e=this;return C()(_.a.mark(function t(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.updatedCamera.error=q.validateCamera(e.updatedCamera),!e.updatedCamera.error){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.$store.dispatch("updateCamera",{id:e.updatedCamera.id,connection_string:e.updatedCamera.connection_string,name:e.updatedCamera.name,owner_id:e.updatedCamera.owner_id});case 7:return t.sent,t.next=10,e.$store.dispatch("camerasRequest");case 10:case"end":return t.stop()}},t,e)}))()},deleteCamera:function(t){var e=this;return C()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch("deleteCamera",t);case 2:return s.sent,s.next=5,e.$store.dispatch("camerasRequest");case 5:case"end":return s.stop()}},s,e)}))()},owner_name:function(t){return this.$store.getters.USERS.find(function(e){return e.id===t})}}},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper p-1"},[s("h1",[t._v("Камеры")]),t._v(" "),s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.openCamera()}}},[t._v("Добавить камеру")]),t._v(" "),s("hr",{staticClass:"mb-1"}),t._v(" "),s("div",{staticClass:"users d-flex justify-content-start flex-wrap"},t._l(t.cameras,function(e,a){return s("div",{key:a,staticClass:"user card shadow-sm m-2 p-2 col-sm-12 col-md-5 col-lg-4 col-xl-3"},[s("h3",[t._v(t._s(e.name))]),t._v(" "),s("hr"),t._v(" "),s("h4",[t._v("Url: "),s("span",{staticClass:"bg-light"},[t._v(t._s(e.connection_string))])]),t._v(" "),s("h4",[t._v("ID Пользователя: "+t._s(e.owner_id))]),t._v(" "),s("div",{staticClass:" my-1"},[s("button",{staticClass:"btn btn-warning",on:{click:function(s){return t.openUpdateCamera(e.id)}}},[t._v("Изменить")]),t._v(" "),s("button",{staticClass:"btn btn-danger",on:{click:function(s){return t.deleteCamera(e.id)}}},[t._v("Удалить")])])])}),0),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"cameraModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"url"}},[t._v("Строка подключения")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newCamera.connection_string,expression:"newCamera.connection_string"}],staticClass:"form-control",attrs:{type:"text",id:"url"},domProps:{value:t.newCamera.connection_string},on:{input:function(e){e.target.composing||t.$set(t.newCamera,"connection_string",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"port"}},[t._v("Имя")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newCamera.name,expression:"newCamera.name"}],staticClass:"form-control",attrs:{type:"text",id:"port"},domProps:{value:t.newCamera.name},on:{input:function(e){e.target.composing||t.$set(t.newCamera,"name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"select"}},[t._v("Пользователь")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.newCamera.owner_id,expression:"newCamera.owner_id"}],staticClass:"form-control",attrs:{id:"select"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newCamera,"owner_id",e.target.multiple?s:s[0])}}},t._l(this.$store.getters.SIMPLE_USERS,function(e,a){return s("option",{domProps:{value:e.id}},[t._v("\n                                    "+t._s(e.login)+"\n                                ")])}),0)]),t._v(" "),t.newCamera.error?s("div",{staticClass:"alert alert-danger my-2"},[t._v("\n                            "+t._s(t.newCamera.error)+"\n                        ")]):t._e()])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.saveCamera()}}},[t._v("Save changes")])])])])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"updateCamera",tabindex:"-1",role:"dialog","aria-labelledby":"updateLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),s("div",{staticClass:"modal-body"},[s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"url_"}},[t._v("Строка подключения")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedCamera.connection_string,expression:"updatedCamera.connection_string"}],staticClass:"form-control",attrs:{type:"text",id:"url_"},domProps:{value:t.updatedCamera.connection_string},on:{input:function(e){e.target.composing||t.$set(t.updatedCamera,"connection_string",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"port_"}},[t._v("Имя")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedCamera.name,expression:"updatedCamera.name"}],staticClass:"form-control",attrs:{type:"text",id:"port_"},domProps:{value:t.updatedCamera.name},on:{input:function(e){e.target.composing||t.$set(t.updatedCamera,"name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"select_"}},[t._v("Пользователь")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.updatedCamera.owner_id,expression:"updatedCamera.owner_id"}],staticClass:"form-control",attrs:{id:"select_"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.updatedCamera,"owner_id",e.target.multiple?s:s[0])}}},t._l(this.$store.getters.SIMPLE_USERS,function(e,a){return s("option",{domProps:{value:e.id}},[t._v("\n                                    "+t._s(e.login)+"\n                                ")])}),0)]),t._v(" "),t.updatedCamera.error?s("div",{staticClass:"alert alert-danger my-2"},[t._v("\n                            "+t._s(t.updatedCamera.error)+"\n                        ")]):t._e()])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.updateCamera()}}},[t._v("Save changes")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("Modal title")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"updateLabel"}},[this._v("Обновить камеру")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var P=s("VU/8")(A,U,!1,function(t){s("ADiR")},"data-v-da2a22d6",null).exports,S={name:"Users",data:function(){return{newUser:{login:"",password:"",name:"",is_admin:!1},updatedUser:{id:null,login:"",password:"a",name:"",is_admin:!1,error:""}}},computed:{users:function(){return this.$store.getters.USERS}},beforeCreate:function(){!1===this.$store.getters.SELF.logged&&this.$router.push("/login"),this.$store.dispatch("usersRequest")},methods:{openModal:function(){b()("#exampleModal").modal("toggle"),this.newUser.error=""},openUpdate:function(t){b()("#updateModal").modal("toggle"),this.updatedUser.error=null;var e,s=this.users.find(function(e){return e.id===t});e=!!s.is_admin,this.updatedUser.id=s.id,this.updatedUser.login=s.login,this.updatedUser.password=s.pass,this.updatedUser.name=s.name,this.updatedUser.is_admin=e},saveUser:function(){var t=C()(_.a.mark(function t(){var e;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.newUser.error=null,!(e=q.validateNewUser(this.newUser))){t.next=7;break}return this.newUser.error=e,t.abrupt("return");case 7:return t.next=9,this.$store.dispatch("createUser",{login:this.newUser.login,password:this.newUser.password,is_admin:this.newUser.is_admin,name:this.newUser.name});case 9:return t.sent,console.log("asdasd"),console.log(),t.next=14,this.$store.dispatch("usersRequest");case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),usersRequest:function(){this.$store.dispatch("usersRequest")},deleteUser:function(t){var e=this;return C()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch("deleteUser",t);case 2:return s.sent,s.next=5,e.$store.dispatch("usersRequest");case 5:case"end":return s.stop()}},s,e)}))()},updateUser:function(t){var e=this;return C()(_.a.mark(function s(){var a;return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a=q.validateUser(e.updatedUser),console.log(a),!a){s.next=7;break}return e.updatedUser.error=a,s.abrupt("return");case 7:return s.next=9,e.$store.dispatch("updateUser",{id:t,login:e.updatedUser.login,password:e.updatedUser.password,is_admin:e.updatedUser.is_admin,name:e.updatedUser.name});case 9:return s.sent,s.next=12,e.$store.dispatch("usersRequest");case 12:case"end":return s.stop()}},s,e)}))()}}},I={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-1",attrs:{id:"wrapper"}},[s("h1",[t._v("Пользователи")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{id:"btn","data-toggle":"modal"},on:{click:function(e){return t.openModal()}}},[t._v("\n        Добавить пользователя\n    ")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"users d-flex justify-content-start flex-wrap"},t._l(t.users,function(e,a){return s("div",{key:a,staticClass:"user card shadow-sm m-2 p-2 col-sm-12 col-md-5 col-lg-4 col-xl-3"},[s("h3",[t._v(t._s(e.name))]),t._v(" "),s("hr"),t._v(" "),s("h4",[t._v("Логин: "+t._s(e.login))]),t._v(" "),s("h4",[t._v("Пароль: "+t._s(e.pass))]),t._v(" "),s("h4",[t._v("ID: "+t._s(e.id))]),t._v(" "),s("h4",[t._v(t._s(e.is_admin?"Админ":"Не админ"))]),t._v(" "),s("div",{staticClass:" my-1"},[s("button",{staticClass:"btn btn-warning",on:{click:function(s){return t.openUpdate(e.id)}}},[t._v("Изменить")]),t._v(" "),s("button",{staticClass:"btn btn-danger",on:{click:function(s){return t.deleteUser(e.id)}}},[t._v("Удалить")])])])}),0),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"log"}},[t._v("Логин")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.login,expression:"newUser.login"}],staticClass:"form-control",attrs:{type:"text",id:"log"},domProps:{value:t.newUser.login},on:{input:function(e){e.target.composing||t.$set(t.newUser,"login",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Имя")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.name,expression:"newUser.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.newUser.name},on:{input:function(e){e.target.composing||t.$set(t.newUser,"name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"pass"}},[t._v("Пароль")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],staticClass:"form-control",attrs:{type:"text",id:"pass"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.is_admin,expression:"newUser.is_admin"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheck1"},domProps:{checked:Array.isArray(t.newUser.is_admin)?t._i(t.newUser.is_admin,null)>-1:t.newUser.is_admin},on:{change:function(e){var s=t.newUser.is_admin,a=e.target,r=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.newUser,"is_admin",s.concat([null])):n>-1&&t.$set(t.newUser,"is_admin",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.newUser,"is_admin",r)}}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"customCheck1"}},[t._v("\n                                Это администратор?\n                            ")])]),t._v(" "),t.newUser.error?s("div",{staticClass:"alert alert-danger my-2"},[t._v("\n                            "+t._s(t.newUser.error)+"\n                        ")]):t._e()])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.saveUser()}}},[t._v("Создать")])])])])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"updateModal",tabindex:"-1",role:"dialog","aria-labelledby":"updateModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),s("div",{staticClass:"modal-body"},[s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"log"}},[t._v("Логин")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedUser.login,expression:"updatedUser.login"}],staticClass:"form-control",attrs:{type:"text",id:"log1"},domProps:{value:t.updatedUser.login},on:{input:function(e){e.target.composing||t.$set(t.updatedUser,"login",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Имя")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedUser.name,expression:"updatedUser.name"}],staticClass:"form-control",attrs:{type:"text",id:"name1"},domProps:{value:t.updatedUser.name},on:{input:function(e){e.target.composing||t.$set(t.updatedUser,"name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"pass1"}},[t._v("Пароль")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedUser.password,expression:"updatedUser.password"}],staticClass:"form-control",attrs:{type:"text",id:"pass1"},domProps:{value:t.updatedUser.password},on:{input:function(e){e.target.composing||t.$set(t.updatedUser,"password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedUser.is_admin,expression:"updatedUser.is_admin"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheck12"},domProps:{checked:Array.isArray(t.updatedUser.is_admin)?t._i(t.updatedUser.is_admin,null)>-1:t.updatedUser.is_admin},on:{change:function(e){var s=t.updatedUser.is_admin,a=e.target,r=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.updatedUser,"is_admin",s.concat([null])):n>-1&&t.$set(t.updatedUser,"is_admin",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.updatedUser,"is_admin",r)}}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"customCheck12"}},[t._v("\n                                Это администратор?\n                            ")])]),t._v(" "),t.updatedUser.error?s("div",{staticClass:"alert alert-danger my-2"},[t._v("\n                            "+t._s(t.updatedUser.error)+"\n                        ")]):t._e()])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.updateUser(t.updatedUser.id)}}},[t._v("Обновить")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("Создать пользователя")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"updateModalLabel"}},[this._v("Обновить пользователя")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var E=s("VU/8")(S,I,!1,function(t){s("SUqJ")},"data-v-69b21794",null).exports,R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper container-fluid"},[s("h3",[t._v(" "+t._s(t.camera().name))]),t._v(" "),s("img",{staticClass:"d-block mx-auto img-fluid",attrs:{src:t.camera().connection_string,id:"camera",alt:""}}),t._v(" "),s("div",{staticClass:"row d-flex justify-content-center"},[s("button",{staticClass:"btn btn-primary m-1",on:{click:function(e){return t.before()}}},[t._v(" ← ")]),t._v(" "),s("button",{staticClass:"btn btn-primary m-1",on:{click:function(e){return t.next()}}},[t._v(" → ")])])])},staticRenderFns:[]};var T=s("VU/8")({name:"Home",data:function(){return{current_camera:0,width:300,height:300}},computed:{},beforeCreate:function(){!1!==this.$store.getters.SELF.logged?(this.$store.dispatch("usersRequest"),this.$store.dispatch("camerasRequest")):this.$router.push("/login")},methods:{cameras_amount:function(){return this.$store.getters.CAMERAS.length},camera:function(){var t=this.$store.getters.CAMERAS[this.current_camera];return t},next:function(){this.current_camera+1>=this.cameras_amount()?this.current_camera=0:this.current_camera++},before:function(){this.current_camera-1<0?this.current_camera=this.cameras_amount()-1:this.current_camera--}}},R,!1,function(t){s("CzIS")},"data-v-2278ae18",null).exports,z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"wrapper "}},[s("h1",[t._v("Chats")]),t._v(" "),s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.updateUsers()}}},[t._v("Обновить пользователей")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"chats row"},t._l(t.users,function(e,a){return s("div",{key:a,staticClass:"user card shadow-sm m-2 p-2 col-sm-10 col-md-5 col-lg-4 col-xl-3"},[s("h4",[t._v(t._s(e.name))]),t._v(" "),s("hr"),t._v(" "),s("h5",[t._v("Логин: "+t._s(e.login))]),t._v(" "),s("div",{staticClass:" my-1"},[s("button",{staticClass:"btn btn-primary",on:{click:function(s){return t.openChat(e.id)}}},[t._v("Войти в чат")])])])}),0)])},staticRenderFns:[]};var M=s("VU/8")({name:"Chats",data:function(){return{rooms:[]}},computed:{users:function(){return this.$store.getters.SIMPLE_USERS}},mounted:function(){},methods:{updatedUsers:function(){this.$store.dispatch("usersRequest")},openChat:function(t){this.$router.push({name:"chat",params:{id:t}})}}},z,!1,function(t){s("gt74")},"data-v-c816b13c",null).exports,N={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper "},[s("p",{staticClass:"text ",class:t.myMessageSide},[t._v("\n            "+t._s(t.text)+"\n            "),s("br"),t._v(" "),s("span",{staticClass:"text-muted mini"},[t._v("\n                "+t._s(t._createdAt)+"\n            ")])])])},staticRenderFns:[]};var Q=s("VU/8")({name:"Message",props:["text","room","user_id","createdAt","id","_id"],data:function(){return{myMess:null}},methods:{},computed:{myMessageSide:function(){return this.myMess?"myMessage":"noMyMessage"},_createdAt:function(){return this.createdAt.split("T")[0]}},created:function(){this.myMess=~~this.user_id==~~this._id}},N,!1,function(t){s("3YZq")},"data-v-fac4e634",null).exports,j=s("mtWM"),L=s.n(j),F=(s("OMJi"),{name:"Chat",components:{message:Q},data:function(){return{message:"",room_id:null}},computed:{messages:function(){return this.$store.getters.MESSAGES},id:function(){return this.$store.getters.SELF.id},offset:function(){return this.$store.getters.MESSAGES.length}},methods:{sendMessage:function(){this.$store.dispatch("sendMessage",this.message),this.message=""},getMessages:function(){var t=this;return C()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.get(t.$store.getters.API.url+"/messages/"+t.room_id+"/"+t.offset,{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:s=e.sent,t.$store.dispatch("getMessages",s),t.$store.commit("request_status",!1),t.offset++,e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Ошибка изменения"),t.$store.commit("request_status",!1),console.log(e.t0);case 15:case"end":return e.stop()}},e,t,[[1,10]])}))()},TopScroll:function(){this.$store.getters.REQUEST||0!==window.scrollY||this.getMessages()}},created:function(){window.addEventListener("scroll",this.TopScroll)},destroyed:function(){window.removeEventListener("scroll",this.TopScroll)},watch:{},mounted:function(){var t=this;this.$store.getters.IO.emit("createRoom",this.$route.params.id),0===this.$store.getters.IO.listeners("message").length&&this.$store.getters.IO.on("message",function(e){t.$store.dispatch("getMessage",e)}),this.room_id=this.$route.params.id,this.getMessages()},beforeDestroy:function(){this.$store.getters.IO.emit("leaveRoom",this.room_id),this.$store.dispatch("clearMessages")}}),V={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container-fluid "},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-sm-12 messages-box "},[s("div",{},[s("transition-group",{staticClass:"messages row p-2 mb-1",attrs:{name:"message"}},t._l(t.messages,function(e){return s("message",t._b({key:e.id,staticClass:"col-sm-12 col-md-12 col-lg-12",attrs:{_id:t.id}},"message",e,!1))}),1)],1)])])]),t._v(" "),s("div",{staticClass:"bottom-panel"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"bottom-input",attrs:{type:"text"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),t._v(" "),s("button",{staticClass:"bottom-btn",on:{click:function(e){return t.sendMessage()}}},[t._v("Отправить")])])])},staticRenderFns:[]};var W=s("VU/8")(F,V,!1,function(t){s("U5v0")},"data-v-63841010",null).exports,B={name:"Coasts",data:function(){return{coast:1,name:"",coasts:[]}},beforeCreate:function(){!1===this.$store.getters.SELF.logged&&this.$router.push("login")},methods:{addCoasts:function(){var t=this;return C()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.post(t.$store.getters.API.url+"/coasts",{name:t.name,coast:t.coast},{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:s=e.sent,alert("Цена добавлена"),t.coasts.push(s.data),t.$store.commit("request_status",!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Ошибка добавления"),t.$store.commit("request_status",!1);case 14:t.coast=0,t.name="";case 16:case"end":return e.stop()}},e,t,[[1,10]])}))()},getCoasts:function(){var t=this;return C()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.get(t.$store.getters.API.url+"/coasts",{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:s=e.sent,console.log(s.data),t.coasts=s.data,t.$store.commit("request_status",!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Ошибка получения расценок"),t.$store.commit("request_status",!1);case 14:case"end":return e.stop()}},e,t,[[1,10]])}))()},deleteCoasts:function(t){var e=this;return C()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.$store.commit("request_status",!0),s.prev=1,s.next=4,L.a.delete(e.$store.getters.API.url+"/coasts/"+t,{headers:{"Content-Type":"application/json",Authorization:e.$store.getters.API.token}});case 4:s.sent,e.coasts=e.coasts.filter(function(e){return e.id!==t}),alert("Удалено"),e.$store.commit("request_status",!1),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),alert("Ошибка удаления"),e.$store.commit("request_status",!1);case 14:case"end":return s.stop()}},s,e,[[1,10]])}))()},updateCoasts:function(t){var e=this;return C()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,e.$store.commit("request_status",!0),s.next=4,L.a.put(e.$store.getters.API.url+"/coasts/"+t,{name:e.coasts.find(function(e){return e.id===t}).name,coast:e.coasts.find(function(e){return e.id===t}).coast},{headers:{"Content-Type":"application/json",Authorization:e.$store.getters.API.token}});case 4:s.sent,e.getCoasts(),alert("Данные обновлены"),e.$store.commit("request_status",!1),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(0),alert("Ошибка изменения"),e.$store.commit("request_status",!1);case 14:case"end":return s.stop()}},s,e,[[0,10]])}))()}}},O={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"form pt-2"},[s("form",{staticClass:"card p-2"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Название работы")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"coast"}},[t._v("Цена работы")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.coast,expression:"coast"}],staticClass:"form-control",attrs:{type:"number",id:"coast",name:"coast"},domProps:{value:t.coast},on:{input:function(e){e.target.composing||(t.coast=e.target.value)}}})]),t._v(" "),s("span",{staticClass:"btn btn-primary",on:{click:function(e){return t.addCoasts()}}},[t._v("\n                Добавить расценку\n            ")])])]),t._v(" "),s("hr",{staticClass:"my-4"}),t._v(" "),s("div",{staticClass:"coasts"},[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.getCoasts()}}},[t._v("Получить цены")]),t._v(" "),s("div",{staticClass:"coasts row my-2"},t._l(t.coasts,function(e,a){return s("div",{staticClass:" col-sm-12 col-md-6 col-lg-6 coast"},[s("div",{key:a},[s("div",{staticClass:"p-1"},[s("form",{staticClass:"card p-2"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Название работы")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"coast.name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:e.name},on:{input:function(s){s.target.composing||t.$set(e,"name",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"coast"}},[t._v("Цена работы")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.coast,expression:"coast.coast"}],staticClass:"form-control",attrs:{type:"number",name:"coast"},domProps:{value:e.coast},on:{input:function(s){s.target.composing||t.$set(e,"coast",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("span",{staticClass:"btn btn-warning",on:{click:function(s){return t.updateCoasts(e.id)}}},[t._v("Изменить")])]),t._v(" "),s("div",{staticClass:"col-6"},[s("span",{staticClass:"btn btn-danger",on:{click:function(s){return t.deleteCoasts(e.id)}}},[t._v("Удалить ")])])])])])])])])}),0)])])},staticRenderFns:[]};var J=s("VU/8")(B,O,!1,function(t){s("r9AI")},"data-v-01ffb80e",null).exports,D={name:"Questions",data:function(){return{question:"",unswer:"",questions:[]}},beforeCreate:function(){!1===this.$store.getters.SELF.logged&&this.$router.push("login")},methods:{addQuestion:function(){var t=this;return C()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.post(t.$store.getters.API.url+"/questions",{question:t.question,unswer:t.unswer},{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:s=e.sent,alert("Вопрос добавлен"),t.questions.push(s.data),t.$store.commit("request_status",!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Ошибка добавления вопроса"),t.$store.commit("request_status",!0);case 14:t.question="",t.unswer="";case 16:case"end":return e.stop()}},e,t,[[1,10]])}))()},getQuestions:function(){var t=this;return C()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.get(t.$store.getters.API.url+"/questions",{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:s=e.sent,t.questions=s.data,t.$store.commit("request_status",!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t.$store.commit("request_status",!1),alert("Ошибка получения вопросов");case 13:case"end":return e.stop()}},e,t,[[1,9]])}))()},deleteQuestions:function(t){var e=this;return C()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.$store.commit("request_status",!0),s.prev=1,s.next=4,L.a.delete(e.$store.getters.API.url+"/questions/"+t,{headers:{"Content-Type":"application/json",Authorization:e.$store.getters.API.token}});case 4:s.sent,e.questions=e.questions.filter(function(e){return e.id!==t}),alert("Удалено"),e.$store.commit("request_status",!1),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),e.$store.commit("request_status",!1),alert("Ошибка удаления");case 14:case"end":return s.stop()}},s,e,[[1,10]])}))()},updateQuestions:function(t){var e=this;return C()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.$store.commit("request_status",!0),s.prev=1,s.next=4,L.a.put(e.$store.getters.API.url+"/questions/"+t,{question:e.questions.find(function(e){return e.id===t}).question,unswer:e.questions.find(function(e){return e.id===t}).unswer},{headers:{"Content-Type":"application/json",Authorization:e.$store.getters.API.token}});case 4:s.sent,e.getQuestions(),e.$store.commit("request_status",!1),alert("Данные обновлены"),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),alert("Ошибка изменения"),e.$store.commit("request_status",!1);case 14:case"end":return s.stop()}},s,e,[[1,10]])}))()}}},Z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"form pt-2"},[s("form",{staticClass:"card p-2"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"question"}},[t._v("Вопрос")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.question,expression:"question"}],staticClass:"form-control",attrs:{type:"text",id:"question",name:"question"},domProps:{value:t.question},on:{input:function(e){e.target.composing||(t.question=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"unswer"}},[t._v("Ответ")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.unswer,expression:"unswer"}],staticClass:"form-control",attrs:{type:"text",rows:"3",id:"unswer",name:"unswer"},domProps:{value:t.unswer},on:{input:function(e){e.target.composing||(t.unswer=e.target.value)}}})]),t._v(" "),s("span",{staticClass:"btn btn-primary",on:{click:function(e){return t.addQuestion()}}},[t._v("\n                Добавить вопрос/ответ\n            ")])])]),t._v(" "),s("hr",{staticClass:"my-4"}),t._v(" "),s("div",{staticClass:"coasts"},[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.getQuestions()}}},[t._v("Получить вопросы")]),t._v(" "),s("div",{staticClass:"coasts row my-2"},t._l(t.questions,function(e,a){return s("div",{staticClass:" col-sm-12 col-md-6 col-lg-6 coast"},[s("div",{key:a},[s("div",{staticClass:"p-1"},[s("form",{staticClass:"card p-2"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Вопрос")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.question,expression:"question.question"}],staticClass:"form-control",attrs:{type:"text",name:"question"},domProps:{value:e.question},on:{input:function(s){s.target.composing||t.$set(e,"question",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"coast"}},[t._v("Ответ")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.unswer,expression:"question.unswer"}],staticClass:"form-control",attrs:{type:"text",name:"unswer"},domProps:{value:e.unswer},on:{input:function(s){s.target.composing||t.$set(e,"unswer",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("span",{staticClass:"btn btn-warning",on:{click:function(s){return t.updateQuestions(e.id)}}},[t._v("Изменить")])]),t._v(" "),s("div",{staticClass:"col-6"},[s("span",{staticClass:"btn btn-danger",on:{click:function(s){return t.deleteQuestions(e.id)}}},[t._v("Удалить ")])])])])])])])])}),0)])])},staticRenderFns:[]};var G=s("VU/8")(D,Z,!1,function(t){s("I9jn")},"data-v-c7f1ddae",null).exports,H={name:"Benefit",data:function(){return{question:"",unswer:"",benefits:[]}},beforeCreate:function(){!1===this.$store.getters.SELF.logged&&this.$router.push("login")},methods:{addBenefit:function(){var t=this;return C()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.post(t.$store.getters.API.url+"/benefit",{question:t.question,unswer:t.unswer},{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:s=e.sent,alert("Вопрос добавлен"),t.benefits.push(s.data),t.$store.commit("request_status",!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Ошибка добавления вопроса"),console.log(e.t0),t.$store.commit("request_status",!1);case 15:t.question="",t.unswer="";case 17:case"end":return e.stop()}},e,t,[[1,10]])}))()},getBenefit:function(){var t=this;return C()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.get(t.$store.getters.API.url+"/benefit",{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:s=e.sent,t.benefits=s.data,t.$store.commit("request_status",!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t.$store.commit("request_status",!1),alert("Ошибка получения полезной информации");case 13:case"end":return e.stop()}},e,t,[[1,9]])}))()},deleteBenefit:function(t){var e=this;return C()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.$store.commit("request_status",!0),s.prev=1,s.next=4,L.a.delete(e.$store.getters.API.url+"/benefit/"+t,{headers:{"Content-Type":"application/json",Authorization:e.$store.getters.API.token}});case 4:s.sent,e.benefits=e.benefits.filter(function(e){return e.id!==t}),alert("Удалено"),e.$store.commit("request_status",!1),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),e.$store.commit("request_status",!1),alert("Ошибка удаления");case 14:case"end":return s.stop()}},s,e,[[1,10]])}))()},updateBenefit:function(t){var e=this;return C()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.$store.commit("request_status",!0),s.prev=1,s.next=4,L.a.put(e.$store.getters.API.url+"/benefit/"+t,{question:e.benefits.find(function(e){return e.id===t}).question,unswer:e.benefits.find(function(e){return e.id===t}).unswer},{headers:{"Content-Type":"application/json",Authorization:e.$store.getters.API.token}});case 4:s.sent,e.getBenefit(),e.$store.commit("request_status",!1),alert("Данные обновлены"),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),alert("Ошибка изменения"),e.$store.commit("request_status",!1);case 14:case"end":return s.stop()}},s,e,[[1,10]])}))()}}},Y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"form pt-2"},[s("form",{staticClass:"card p-2"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"question"}},[t._v("Вопрос")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.question,expression:"question"}],staticClass:"form-control",attrs:{type:"text",id:"question",name:"question"},domProps:{value:t.question},on:{input:function(e){e.target.composing||(t.question=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"unswer"}},[t._v("Полезный ответ")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.unswer,expression:"unswer"}],staticClass:"form-control",attrs:{type:"text",rows:"3",id:"unswer",name:"unswer"},domProps:{value:t.unswer},on:{input:function(e){e.target.composing||(t.unswer=e.target.value)}}})]),t._v(" "),s("span",{staticClass:"btn btn-primary",on:{click:function(e){return t.addBenefit()}}},[t._v("\n                Добавить вопрос/ответ\n            ")])])]),t._v(" "),s("hr",{staticClass:"my-4"}),t._v(" "),s("div",{staticClass:"coasts"},[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.getBenefit()}}},[t._v("Получить вопросы")]),t._v(" "),s("div",{staticClass:"coasts row my-2"},t._l(t.benefits,function(e,a){return s("div",{staticClass:" col-sm-12 col-md-6 col-lg-6 coast"},[s("div",{key:a},[s("div",{staticClass:"p-1"},[s("form",{staticClass:"card p-2"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"question"}},[t._v("Вопрос")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.question,expression:"benefit.question"}],staticClass:"form-control",attrs:{type:"text",name:"question"},domProps:{value:e.question},on:{input:function(s){s.target.composing||t.$set(e,"question",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"unswer"}},[t._v("Ответ")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.unswer,expression:"benefit.unswer"}],staticClass:"form-control",attrs:{type:"text",name:"unswer"},domProps:{value:e.unswer},on:{input:function(s){s.target.composing||t.$set(e,"unswer",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("span",{staticClass:"btn btn-warning",on:{click:function(s){return t.updateBenefit(e.id)}}},[t._v("Изменить")])]),t._v(" "),s("div",{staticClass:"col-6"},[s("span",{staticClass:"btn btn-danger",on:{click:function(s){return t.deleteBenefit(e.id)}}},[t._v("Удалить ")])])])])])])])])}),0)])])},staticRenderFns:[]};var K=s("VU/8")(H,Y,!1,function(t){s("VTLO")},"data-v-a0cd33ec",null).exports,X={name:"Benefit",data:function(){return{name:"",desc:"",shir:0,dolg:0,works:[]}},beforeCreate:function(){!1===this.$store.getters.SELF.logged&&this.$router.push("login")},methods:{openWork:function(t){this.$router.push({name:"work",params:{id:t}})},addWork:function(){var t=this;return C()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.post(t.$store.getters.API.url+"/work",{name:t.name,desc:t.desc,shir:t.shir,dolg:t.dolg},{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:s=e.sent,alert("Работа добавлена"),t.works.push(s.data),t.$store.commit("request_status",!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Ошибка добавления работы"),console.log(e.t0),t.$store.commit("request_status",!1);case 15:t.name="",t.desk="",t.dolg=0,t.shir=0;case 19:case"end":return e.stop()}},e,t,[[1,10]])}))()},getWorks:function(){var t=this;return C()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.get(t.$store.getters.API.url+"/works",{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:s=e.sent,t.works=s.data,t.$store.commit("request_status",!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t.$store.commit("request_status",!1),alert("Ошибка получения работ");case 13:case"end":return e.stop()}},e,t,[[1,9]])}))()},deleteWork:function(t){var e=this;return C()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.$store.commit("request_status",!0),s.prev=1,s.next=4,L.a.delete(e.$store.getters.API.url+"/work/"+t,{headers:{"Content-Type":"application/json",Authorization:e.$store.getters.API.token}});case 4:s.sent,e.works=e.works.filter(function(e){return e.id!==t}),alert("Удалено"),e.$store.commit("request_status",!1),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),e.$store.commit("request_status",!1),alert("Ошибка удаления");case 14:case"end":return s.stop()}},s,e,[[1,10]])}))()}}},tt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"form pt-2"},[s("form",{staticClass:"card p-2"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"question"}},[t._v("Название")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"question",name:"question"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"unswer"}},[t._v("Описание")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"desc"}],staticClass:"form-control",attrs:{type:"text",rows:"5",id:"unswer",name:"unswer"},domProps:{value:t.desc},on:{input:function(e){e.target.composing||(t.desc=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"form-group col-6"},[s("label",{attrs:{for:"shir"}},[t._v("Широта")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.shir,expression:"shir"}],staticClass:"form-control",attrs:{type:"text",id:"shir",name:"shir"},domProps:{value:t.shir},on:{input:function(e){e.target.composing||(t.shir=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group col-6"},[s("label",{attrs:{for:"unswer"}},[t._v("Долгота")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.dolg,expression:"dolg"}],staticClass:"form-control",attrs:{type:"text",id:"dolg",name:"dolg"},domProps:{value:t.dolg},on:{input:function(e){e.target.composing||(t.dolg=e.target.value)}}})])]),t._v(" "),s("span",{staticClass:"btn btn-primary",on:{click:function(e){return t.addWork()}}},[t._v("\n                Добавить Выполненную работу\n            ")])])]),t._v(" "),s("hr",{staticClass:"my-4"}),t._v(" "),s("div",{staticClass:"coasts"},[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.getWorks()}}},[t._v("Получить работы")]),t._v(" "),s("div",{staticClass:"coasts row my-2"},t._l(t.works,function(e,a){return s("div",{staticClass:" col-sm-12 col-md-6 col-lg-6 coast"},[s("div",{key:a},[s("div",{staticClass:"p-1"},[s("form",{staticClass:"card p-2"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"question"}},[t._v("Вопрос")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"work.name"}],staticClass:"form-control",attrs:{type:"text",name:"question"},domProps:{value:e.name},on:{input:function(s){s.target.composing||t.$set(e,"name",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"unswer"}},[t._v("Ответ")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.desc,expression:"work.desc"}],staticClass:"form-control",attrs:{type:"text",name:"unswer"},domProps:{value:e.desc},on:{input:function(s){s.target.composing||t.$set(e,"desc",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("span",{staticClass:"btn btn-warning",on:{click:function(s){return t.openWork(e.id)}}},[t._v("\n                                              Перейти к работе\n                                        ")])]),t._v(" "),s("div",{staticClass:"col-6"},[s("span",{staticClass:"btn btn-danger",on:{click:function(s){return t.deleteWork(e.id)}}},[t._v("Удалить ")])])])])])])])])}),0)])])},staticRenderFns:[]};var et=s("VU/8")(X,tt,!1,function(t){s("JJfA")},null,null).exports,st={name:"Work",data:function(){return{work_id:null,image:null,work:{}}},beforeCreate:function(){!1===this.$store.getters.SELF.logged&&this.$router.push("login")},mounted:function(){this.work_id=this.$route.params.id,this.getWork()},methods:{getWork:function(){var t=this;return C()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.get(t.$store.getters.API.url+"/work/"+t.work_id,{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:s=e.sent,t.work=s.data[0],t.$store.commit("request_status",!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),alert("Ошибка получения работы"),console.log(e.t0),t.$store.commit("request_status",!1);case 14:case"end":return e.stop()}},e,t,[[1,9]])}))()},updateWork:function(){var t=this;return C()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.put(t.$store.getters.API.url+"/work/"+t.work_id,{name:t.work.name,desc:t.work.desc,shir:t.work.shir,dolg:t.work.dolg},{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:e.sent,t.$store.commit("request_status",!1),alert("Работа обновленна"),t.getWork(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Ошибка обновления работы"),console.log(e.t0),t.$store.commit("request_status",!1);case 15:case"end":return e.stop()}},e,t,[[1,10]])}))()},uploadImage:function(){var t=this;return C()(_.a.mark(function e(){var s,a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(s=document.getElementById("img").files[0])&&((a=new FormData).append("img",s),t.$store.commit("request_status",!0),L.a.post(t.$store.getters.API.url+"/work/"+t.work_id+"/image",a,{headers:{"Content-Type":"multipart/form-data",Authorization:t.$store.getters.API.token}}).then(function(e){alert("Картинка добавлена!"),t.getWork(),t.$store.commit("request_status",!1)}).catch(function(e){alert("Ошибка добавления картинки"),t.$store.commit("request_status",!1)}));case 2:case"end":return e.stop()}},e,t)}))()},deleteImage:function(t){var e=this;return C()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e.$store.commit("request_status",!0),L.a.delete(e.$store.getters.API.url+"/work/\n                          "+e.work_id+"/delete-image/"+t,{headers:{Authorization:e.$store.getters.API.token}}).then(function(s){e.work.images=e.work.images.filter(function(e){return e!=t}),e.$store.commit("request_status",!1),alert("Картина удалена")}).catch(function(t){alert("Ошибка удаления"),e.$store.commit("request_status",!1)});case 2:case"end":return s.stop()}},s,e)}))()}}},at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"form pt-2"},[a("form",{staticClass:"card p-2"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"question"}},[t._v("Название")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.work.name,expression:"work.name"}],staticClass:"form-control",attrs:{type:"text",id:"question",name:"question"},domProps:{value:t.work.name},on:{input:function(e){e.target.composing||t.$set(t.work,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"unswer"}},[t._v("Описание")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.work.desc,expression:"work.desc"}],staticClass:"form-control",attrs:{type:"text",rows:"5",id:"unswer",name:"unswer"},domProps:{value:t.work.desc},on:{input:function(e){e.target.composing||t.$set(t.work,"desc",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"shir"}},[t._v("Широта")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.work.shir,expression:"work.shir"}],staticClass:"form-control",attrs:{type:"number",id:"shir",name:"shir"},domProps:{value:t.work.shir},on:{input:function(e){e.target.composing||t.$set(t.work,"shir",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"unswer"}},[t._v("Долгота")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.work.dolg,expression:"work.dolg"}],staticClass:"form-control",attrs:{type:"number",id:"dolg",name:"dolg"},domProps:{value:t.work.dolg},on:{input:function(e){e.target.composing||t.$set(t.work,"dolg",e.target.value)}}})])]),t._v(" "),a("span",{staticClass:"btn btn-primary",on:{click:function(e){return t.updateWork()}}},[t._v("\n                Обновить\n            ")])])]),t._v(" "),a("div",{staticClass:"form mt-2"},[a("form",{staticClass:"card p-2",attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"images p-2 row"},t._l(t.work.images,function(e,r){return a("div",{key:r,staticClass:"col-6 position-relative"},[a("div",{staticClass:"position-absolute delete-img"},[a("img",{attrs:{src:s("KuaY"),alt:"удалить"},on:{click:function(s){return t.deleteImage(e)}}})]),t._v(" "),a("img",{staticClass:"img-thumbnail m-1",attrs:{src:t.$store.getters.API.url+"/uploads/"+e,alt:"img"}})])}),0),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"img"}},[t._v("Выбрать картинку")]),t._v(" "),a("input",{staticClass:"btn btn-primary form-control",attrs:{type:"file",id:"img",name:"img"}}),t._v(" "),a("span",{staticClass:"btn btn-primary mt-2",on:{click:function(e){return t.uploadImage()}}},[t._v("Добавить картинку")])])])]),t._v(" "),a("hr",{staticClass:"my-2"}),t._v(" "),a("div",{staticClass:"map row justify-content-center"},[a("div",{staticClass:"mapouter col-12"},[a("div",{staticClass:"gmap_canvas"},[a("iframe",{attrs:{width:"100%",height:"300",id:"gmap_canvas",src:"https://maps.google.com/maps?q="+t.work.shir+","+t.work.dolg+"&t=&z=13&ie=UTF8&iwloc=&output=embed",frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0"}})])])])])},staticRenderFns:[]};var rt=s("VU/8")(st,at,!1,function(t){s("SZVQ")},null,null).exports,nt={name:"News",data:function(){return{newest:"",description:"",news:[]}},beforeCreate:function(){!1===this.$store.getters.SELF.logged&&this.$router.push("login")},methods:{addQuestion:function(){var t=this;return C()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.post(t.$store.getters.API.url+"/news",{news:t.newest,description:t.description},{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:s=e.sent,alert("Новинка добавлена"),t.news.push(s.data),t.$store.commit("request_status",!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Ошибка добавления новинки"),t.$store.commit("request_status",!0);case 14:t.newest="",t.description="";case 16:case"end":return e.stop()}},e,t,[[1,10]])}))()},getQuestions:function(){var t=this;return C()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.get(t.$store.getters.API.url+"/news",{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:s=e.sent,t.news=s.data,t.$store.commit("request_status",!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t.$store.commit("request_status",!1),alert("Ошибка получения вопросов");case 13:case"end":return e.stop()}},e,t,[[1,9]])}))()},deleteQuestions:function(t){var e=this;return C()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.$store.commit("request_status",!0),s.prev=1,s.next=4,L.a.delete(e.$store.getters.API.url+"/news/"+t,{headers:{"Content-Type":"application/json",Authorization:e.$store.getters.API.token}});case 4:s.sent,e.news=e.news.filter(function(e){return e.id!==t}),alert("Удалено"),e.$store.commit("request_status",!1),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),e.$store.commit("request_status",!1),alert("Ошибка удаления");case 14:case"end":return s.stop()}},s,e,[[1,10]])}))()},updateQuestions:function(t){var e=this;return C()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.$store.commit("request_status",!0),s.prev=1,s.next=4,L.a.put(e.$store.getters.API.url+"/news/"+t,{news:e.news.find(function(e){return e.id===t}).news,description:e.news.find(function(e){return e.id===t}).description},{headers:{"Content-Type":"application/json",Authorization:e.$store.getters.API.token}});case 4:s.sent,e.getQuestions(),e.$store.commit("request_status",!1),alert("Данные обновлены"),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),alert("Ошибка изменения"),e.$store.commit("request_status",!1);case 14:case"end":return s.stop()}},s,e,[[1,10]])}))()}}},ot={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"form pt-2"},[s("form",{staticClass:"card p-2"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"question"}},[t._v("Новинка")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newest,expression:"newest"}],staticClass:"form-control",attrs:{type:"text",id:"question",name:"question"},domProps:{value:t.newest},on:{input:function(e){e.target.composing||(t.newest=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"description"}},[t._v("Описание")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text",rows:"3",id:"description",name:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),s("span",{staticClass:"btn btn-primary",on:{click:function(e){return t.addQuestion()}}},[t._v("\n                Добавить новинку\n            ")])])]),t._v(" "),s("hr",{staticClass:"my-4"}),t._v(" "),s("div",{staticClass:"coasts"},[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.getQuestions()}}},[t._v("Получить Новинки")]),t._v(" "),s("div",{staticClass:"coasts row my-2"},t._l(t.news,function(e,a){return s("div",{staticClass:" col-sm-12 col-md-6 col-lg-6 coast"},[s("div",{key:a},[s("div",{staticClass:"p-1"},[s("form",{staticClass:"card p-2"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Вопрос")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.news,expression:"ne.news"}],staticClass:"form-control",attrs:{type:"text",name:"question"},domProps:{value:e.news},on:{input:function(s){s.target.composing||t.$set(e,"news",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"coast"}},[t._v("Ответ")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"ne.description"}],staticClass:"form-control",attrs:{type:"text",name:"description"},domProps:{value:e.description},on:{input:function(s){s.target.composing||t.$set(e,"description",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("span",{staticClass:"btn btn-warning",on:{click:function(s){return t.updateQuestions(e.id)}}},[t._v("Изменить")])]),t._v(" "),s("div",{staticClass:"col-6"},[s("span",{staticClass:"btn btn-danger",on:{click:function(s){return t.deleteQuestions(e.id)}}},[t._v("Удалить")])])])])])])])])}),0)])])},staticRenderFns:[]};var it=s("VU/8")(nt,ot,!1,function(t){s("4GfE")},"data-v-7d2eda91",null).exports,ct={name:"Bonuses",data:function(){return{bonuses:"",unswer:"",link:"",questions:[]}},beforeCreate:function(){!1===this.$store.getters.SELF.logged&&this.$router.push("login")},methods:{addQuestion:function(){var t=this;return C()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.post(t.$store.getters.API.url+"/bonuses",{bonuses:t.bonuses,unswer:t.unswer,link:t.link},{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:s=e.sent,alert("Бонус добавлен"),t.questions.push(s.data),t.$store.commit("request_status",!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Ошибка добавления бонуса"),t.$store.commit("request_status",!0);case 14:t.question="",t.unswer="";case 16:case"end":return e.stop()}},e,t,[[1,10]])}))()},getQuestions:function(){var t=this;return C()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("request_status",!0),e.prev=1,e.next=4,L.a.get(t.$store.getters.API.url+"/bonuses",{headers:{"Content-Type":"application/json",Authorization:t.$store.getters.API.token}});case 4:s=e.sent,t.questions=s.data,t.$store.commit("request_status",!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t.$store.commit("request_status",!1),alert("Ошибка получения вопросов");case 13:case"end":return e.stop()}},e,t,[[1,9]])}))()},deleteQuestions:function(t){var e=this;return C()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.$store.commit("request_status",!0),s.prev=1,s.next=4,L.a.delete(e.$store.getters.API.url+"/bonuses/"+t,{headers:{"Content-Type":"application/json",Authorization:e.$store.getters.API.token}});case 4:s.sent,e.questions=e.questions.filter(function(e){return e.id!==t}),alert("Удалено"),e.$store.commit("request_status",!1),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),e.$store.commit("request_status",!1),alert("Ошибка удаления");case 14:case"end":return s.stop()}},s,e,[[1,10]])}))()},updateQuestions:function(t){var e=this;return C()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.$store.commit("request_status",!0),s.prev=1,s.next=4,L.a.put(e.$store.getters.API.url+"/bonuses/"+t,{bonuses:e.questions.find(function(e){return e.id===t}).bonuses,unswer:e.questions.find(function(e){return e.id===t}).unswer,link:e.questions.find(function(e){return e.id===t}).link},{headers:{"Content-Type":"application/json",Authorization:e.$store.getters.API.token}});case 4:s.sent,e.getQuestions(),e.$store.commit("request_status",!1),alert("Данные обновлены"),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),alert("Ошибка изменения"),e.$store.commit("request_status",!1);case 14:case"end":return s.stop()}},s,e,[[1,10]])}))()}}},ut={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"form pt-2"},[s("form",{staticClass:"card p-2"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"question"}},[t._v("Бонус")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.bonuses,expression:"bonuses"}],staticClass:"form-control",attrs:{type:"text",id:"question",name:"question"},domProps:{value:t.bonuses},on:{input:function(e){e.target.composing||(t.bonuses=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"question"}},[t._v("Ссылка")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.link,expression:"link"}],staticClass:"form-control",attrs:{type:"text",id:"link",name:"link"},domProps:{value:t.link},on:{input:function(e){e.target.composing||(t.link=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"unswer"}},[t._v("Описание")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.unswer,expression:"unswer"}],staticClass:"form-control",attrs:{type:"text",rows:"3",id:"unswer",name:"unswer"},domProps:{value:t.unswer},on:{input:function(e){e.target.composing||(t.unswer=e.target.value)}}})]),t._v(" "),s("span",{staticClass:"btn btn-primary",on:{click:function(e){return t.addQuestion()}}},[t._v("\n                Добавить Бонус\n            ")])])]),t._v(" "),s("hr",{staticClass:"my-4"}),t._v(" "),s("div",{staticClass:"coasts"},[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.getQuestions()}}},[t._v("Получить вопросы")]),t._v(" "),s("div",{staticClass:"coasts row my-2"},t._l(t.questions,function(e,a){return s("div",{staticClass:" col-sm-12 col-md-6 col-lg-6 coast"},[s("div",{key:a},[s("div",{staticClass:"p-1"},[s("form",{staticClass:"card p-2"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Бонус")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.bonuses,expression:"question.bonuses"}],staticClass:"form-control",attrs:{type:"text",name:"question"},domProps:{value:e.bonuses},on:{input:function(s){s.target.composing||t.$set(e,"bonuses",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Ссылка")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.link,expression:"question.link"}],staticClass:"form-control",attrs:{type:"text",name:"question"},domProps:{value:e.link},on:{input:function(s){s.target.composing||t.$set(e,"link",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"coast"}},[t._v("Описание")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.unswer,expression:"question.unswer"}],staticClass:"form-control",attrs:{type:"text",name:"unswer"},domProps:{value:e.unswer},on:{input:function(s){s.target.composing||t.$set(e,"unswer",s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("span",{staticClass:"btn btn-warning",on:{click:function(s){return t.updateQuestions(e.id)}}},[t._v("Изменить")])]),t._v(" "),s("div",{staticClass:"col-6"},[s("span",{staticClass:"btn btn-danger",on:{click:function(s){return t.deleteQuestions(e.id)}}},[t._v("Удалить ")])])])])])])])])}),0)])])},staticRenderFns:[]};var lt,dt,mt,pt,vt=s("VU/8")(ct,ut,!1,function(t){s("GMqv")},"data-v-30b995b2",null).exports,ft=s("NYxO"),gt=s("mvHQ"),_t=s.n(gt),ht=this,Ct={state:{cameras:[]},getters:{CAMERAS:function(t){return t.cameras}},mutations:{renewCameras:function(t,e){return t.cameras=e}},actions:{camerasRequest:(pt=C()(_.a.mark(function t(e){e.state;var s=e.rootState,a=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a("request_status",!0),fetch(s.api.url+"/cameras",{credentials:"include",method:"GET",headers:{Authorization:s.api.token}}).then(function(t){return 200===t.status?t.json():null}).then(function(t){return a("renewCameras",t)}).catch(function(t){return alert("Ошибка получения данных камер")}).finally(function(){return a("request_status",!1)});case 2:case"end":return t.stop()}},t,ht)})),function(t){return pt.apply(this,arguments)}),createCamera:(mt=C()(_.a.mark(function t(e,s){e.state;var a=e.rootState,r=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("request_status",!0),t.abrupt("return",fetch(a.api.url+"/camera",{credentials:"include",method:"POST",headers:{"Content-Type":"application/json",Authorization:a.api.token},body:_t()({connection_string:s.connection_string,name:s.name,owner_id:s.owner_id})}).then(function(t){return 200!==t.status?alert("Ошибка добавления"):alert("Камера добавлена")}).catch(function(t){return alert("Ошибка добавления")}).finally(function(){return r("request_status",!1)}));case 2:case"end":return t.stop()}},t,ht)})),function(t,e){return mt.apply(this,arguments)}),deleteCamera:(dt=C()(_.a.mark(function t(e,s){e.state;var a=e.rootState,r=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("request_status",!0),t.abrupt("return",fetch(a.api.url+"/camera",{credentials:"include",method:"DELETE",headers:{"Content-Type":"application/json",Authorization:a.api.token},body:_t()({id:s})}).then(function(t){return 200!==t.status?alert("Ошибка удаления"):alert("Камера удалена")}).catch(function(t){return alert("Ошибка удаления")}).finally(function(){return r("request_status",!1)}));case 2:case"end":return t.stop()}},t,ht)})),function(t,e){return dt.apply(this,arguments)}),updateCamera:(lt=C()(_.a.mark(function t(e,s){e.state;var a=e.rootState,r=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("request_status",!0),t.abrupt("return",fetch(a.api.url+"/camera",{credentials:"include",method:"PUT",headers:{"Content-Type":"application/json",Authorization:a.api.token},body:_t()({id:s.id,connection_string:s.connection_string,name:s.name,owner_id:s.owner_id})}).then(function(t){return 200!==t.status?alert("Ошибка обновления"):alert("Камера обновлена")}).catch(function(t){return alert("Ошибка обновления")}).finally(function(){return r("request_status",!1)}));case 2:case"end":return t.stop()}},t,ht)})),function(t,e){return lt.apply(this,arguments)})}},wt=this,bt={state:{users:[]},getters:{USERS:function(t){return t.users.filter(function(t){return"admin"!==t.login})},SIMPLE_USERS:function(t){return t.users.filter(function(t){return 1!==t.is_admin})}},mutations:{renewUsers:function(t,e){t.users=e}},actions:{usersRequest:function(){var t=C()(_.a.mark(function t(e){e.state;var s=e.rootState,a=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a("request_status",!0),fetch(s.api.url+"/users",{credentials:"include",method:"GET",headers:{Authorization:s.api.token}}).then(function(t){return 200===t.status?t.json():null}).then(function(t){return a("renewUsers",t)}).catch(function(t){return alert("Ошибка получения данных пользователей")}).finally(function(){return a("request_status",!1)});case 2:case"end":return t.stop()}},t,wt)}));return function(e){return t.apply(this,arguments)}}(),createUser:function(){var t=C()(_.a.mark(function t(e,s){e.state;var a=e.rootState,r=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("request_status",!0),t.abrupt("return",fetch(a.api.url+"/user",{credentials:"include",method:"POST",headers:{"Content-Type":"application/json",Authorization:a.api.token},body:_t()({login:s.login,password:s.password,is_admin:s.is_admin,name:s.name})}).then(function(t){return 200!==t.status?alert("Ошибка добавления"):alert("Пользователь добавлен")}).catch(function(t){return alert("Ошибка добавления")}).finally(function(){return r("request_status",!1)}));case 2:case"end":return t.stop()}},t,wt)}));return function(e,s){return t.apply(this,arguments)}}(),deleteUser:function(){var t=C()(_.a.mark(function t(e,s){e.state;var a=e.rootState,r=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("request_status",!0),t.abrupt("return",fetch(a.api.url+"/user",{credentials:"include",method:"DELETE",headers:{"Content-Type":"application/json",Authorization:a.api.token},body:_t()({id:s})}).then(function(t){return 200!==t.status?alert("Ошибка удаления"):alert("Пользователь удален")}).catch(function(t){return alert("Ошибка добавления")}).finally(function(){return r("request_status",!1)}));case 2:case"end":return t.stop()}},t,wt)}));return function(e,s){return t.apply(this,arguments)}}(),updateUser:function(){var t=C()(_.a.mark(function t(e,s){e.state;var a=e.rootState,r=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("request_status",!0),t.abrupt("return",fetch(a.api.url+"/user",{credentials:"include",method:"PUT",headers:{"Content-Type":"application/json",Authorization:a.api.token},body:_t()({id:s.id,login:s.login,password:s.password,is_admin:s.is_admin,name:s.name})}).then(function(t){return 200!==t.status?alert("Ошибка изменения"):alert("Пользователь изменен")}).catch(function(t){return alert("Ошибка изменения")}).finally(function(){return r("request_status",!1)}));case 2:case"end":return t.stop()}},t,wt)}));return function(e,s){return t.apply(this,arguments)}}()}},kt=this,xt={state:{id:null,login:"",logged:!1},getters:{SELF:function(t){return t}},mutations:{login:function(t,e){console.log(e),t.login=e.login,t.id=e.id,t.logged=!0,localStorage.setItem("login",e.login),localStorage.setItem("id",e.id),At.push("/")},logout:function(t){t.id=null,t.login=null,t.logged=!1,localStorage.removeItem("login"),localStorage.removeItem("id"),At.push("login")}},actions:{login:function(){var t=C()(_.a.mark(function t(e,s){e.state;var a=e.rootState,r=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r("request_status",!0),fetch(a.api.url+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:_t()({login:s.login,password:s.password})}).then(function(t){return 200===t.status?t.json():null}).then(function(t){null!==t?(r("login",t),r("token",t.token)):alert("Authorization Error")}).catch(function(t){return alert("Authorization Error")}).finally(function(){return r("request_status",!1)});case 2:case"end":return t.stop()}},t,kt)}));return function(e,s){return t.apply(this,arguments)}}(),logout:function(t){var e=t.commit;e("logout"),e("token_destroy")},loginUserByStorage:function(t,e){var s=t.commit;t.rootstate;s("token",e.token),s("login",e)}}},$t=(function(){var t=C()(_.a.mark(function t(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{code:404});case 1:case"end":return t.stop()}},t,kt)}))}(),{state:{url:"https://video-surveillance-system.herokuapp.com",is_request:!1,token:null},getters:{API:function(t){return t},REQUEST:function(t){return t.is_request},TOKEN:function(t){return t.token}},mutations:{request_status:function(t,e){t.is_request=e},token:function(t,e){t.token=e,localStorage.setItem("token",t.token)},token_destroy:function(t){localStorage.removeItem("token"),t.token=null}},actions:{}}),yt={state:{io:{},messages:[]},getters:{IO:function(t){return t.io},MESSAGES:function(t){return t.messages}},mutations:{connect:function(t,e){t.io=u()("https://video-surveillance-system.herokuapp.com",{query:{token:e}})},getMessage:function(t,e){t.messages.push(e),setTimeout("window.scrollTo(0, document.body.offsetHeight + 100);",75)},getMessages:function(t,e){t.messages=t.messages.concat(e),t.messages=t.messages.sort(function(t,e){return t.id>e.id?1:t.id<e.id?-1:void 0})},clearMessages:function(t){t.messages=[]}},actions:{connect:function(t){(0,t.commit)("connect",t.rootState.api.token)},sendMessage:function(t,e){t.commit;t.rootState.socket.io.emit("message",e)},getMessage:function(t,e){(0,t.commit)("getMessage",e)},getMessages:function(t,e){var s=t.commit;console.log(e.data),s("getMessages",e.data)},clearMessages:function(t){(0,t.commit)("clearMessages")}}};a.a.use(ft.a);var qt=new ft.a.Store({state:{},getters:{},mutations:{},actions:{},modules:{cameras:Ct,users:bt,self:xt,api:$t,socket:yt}});a.a.use(p.a);var At=new p.a({routes:[{path:"/",name:"home",component:T},{path:"/works",name:"works",component:et},{path:"/news",name:"news",component:it},{path:"/bonuses",name:"bonuses",component:vt},{path:"/work/:id",name:"work",component:rt},{path:"/coasts",name:"coasts",component:J},{path:"/questions",name:"questions",component:G},{path:"/benefit",name:"benefit",component:K},{path:"/login",name:"login",component:f},{path:"/cameras",name:"cameras",component:P},{path:"/users",name:"users",component:E},{path:"/chats",name:"chats",component:M},{path:"/chat/:id",name:"chat",component:W}]});s("qb6w");a.a.config.productionTip=!1;new a.a({el:"#app",router:At,store:qt,components:{App:m},template:"<App/>"})},R1Zr:function(t,e){},SUqJ:function(t,e){},SZVQ:function(t,e){},U5v0:function(t,e){},VTLO:function(t,e){},alpY:function(t,e){},gt74:function(t,e){},qb6w:function(t,e){},r9AI:function(t,e){},weyE:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2e302effae56c7d70caa.js.map